---
title: å®Œæ•´çš„Tokenç”Ÿå‘½å‘¨æœŸ
description: ç«¯åˆ°ç«¯æŒ‡å—ï¼šä»ä»£å¸åˆ›å»ºã€é€šè¿‡ç»‘å®šé˜¶æ®µï¼Œåˆ°å®Œæ•´çš„DEXäº¤æ˜“å’Œå»ä¸­å¿ƒåŒ–ã€‚
lang: cn
originalPath: bondkit/guides/token-lifecycle.mdx
---
## æ¦‚è§ˆ

æœ¬æŒ‡å—å°†å¼•å¯¼æ‚¨å®Œæˆ Bondkit ä»£å¸çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸï¼Œä»åˆå§‹åˆ›å»ºåˆ°å®Œå…¨å»ä¸­å¿ƒåŒ–ã€‚ç†è§£è¿™ä¸€æµç¨‹å¯¹äºæˆåŠŸçš„ä»£å¸å‘è¡Œå’Œç®¡ç†è‡³å…³é‡è¦ã€‚

```mermaid
flowchart TD
    A[éƒ¨ç½²ä»£å¸] --> B[å€ºåˆ¸é˜¶æ®µ]
    B --> C{è¾¾åˆ°ç›®æ ‡?}
    C -->|å¦| D[ç»§ç»­äº¤æ˜“]
    D --> C
    C -->|æ˜¯| E[è¿ç§»å‡†å¤‡]
    E --> F[è¿ç§»åˆ° DEX]
    F --> G[DEX é˜¶æ®µ]
    G --> H[å®Œå…¨å»ä¸­å¿ƒåŒ–]
    
    style A fill:#4CAF50,stroke:#2E7D32,color:#fff
    style B fill:#FF9800,stroke:#F57C00,color:#fff
    style E fill:#9C27B0,stroke:#6A1B9A,color:#fff
    style F fill:#2196F3,stroke:#1565C0,color:#fff
    style G fill:#00BCD4,stroke:#00838F,color:#fff
    style H fill:#4CAF50,stroke:#2E7D32,color:#fff
```

## é˜¶æ®µ 1ï¼šä»£å¸åˆ›å»º

### é¢„éƒ¨ç½²è§„åˆ’

<AccordionGroup>
  <Accordion title="é€‰æ‹©æ‚¨çš„å‚æ•°">
    **å…³é”®å†³ç­–:**
    
    | å‚æ•° | å½±å“ | å»ºè®® |
    |-----------|---------|----------------|
    | **finalTokenSupply** | æ€»å…±åˆ›å»ºçš„ä»£å¸æ•°é‡ | é€šå¸¸ä¸º 1M-100M ä»£å¸ |
    | **aggressivenessFactor** | ä»·æ ¼æ›²çº¿é™¡åº¦ | 30-60 é€‚ç”¨äºå¹³è¡¡å‘è¡Œ |
    | **targetAmount** | è¿ç§»é˜ˆå€¼ | 5-50 äº¤æ˜“ä»£å¸ |
    | **tradingToken** | ç”¨æˆ·æ”¯ä»˜æ‰€ç”¨çš„ä»£å¸ | ä½¿ç”¨ B3 ç”¨äº Base ä¸»ç½‘ |
    
    **ç¤ºä¾‹é…ç½®:**
    ```typescript
    const tokenConfig = {
      name: "MyToken",
      symbol: "MTK",
      finalTokenSupply: parseEther("10000000"), // 10M ä»£å¸
      aggressivenessFactor: 45, // ä¸­ç­‰æ›²çº¿
      targetAmount: parseEther("20"), // 20 B3 ä»£å¸
      tradingToken: "0xB3B32F9f8827D4634fE7d973Fa1034Ec9fdDB3B3"
    };
    ```
  </Accordion>
  
  <Accordion title="è®¾ç½®è´¹ç”¨ç»“æ„">
    **è´¹ç”¨åˆ†é…ç­–ç•¥:**
    
    ```typescript
    const feeConfig = {
      feeRecipient: "0x...", // æ‚¨çš„è´¢åŠ¡/å›¢é˜Ÿåœ°å€
      lpSplitRatioFeeRecipientBps: 2000n, // 20% ç»™è´¹ç”¨æ¥æ”¶è€…
      // å‰©ä½™ 80% åœ¨è¿ç§»åæˆä¸º LP ä»£å¸
    };
    ```
    
    **è´¹ç”¨æµç¨‹:**
    - **å€ºåˆ¸é˜¶æ®µ**: æ‰€æœ‰äº¤æ˜“çš„ 5% â†’ `feeRecipient`
    - **è¿ç§»å**: 0.3% äº¤æ˜“è´¹ â†’ LP æä¾›è€…
  </Accordion>
</AccordionGroup>

### éƒ¨ç½²æ‰§è¡Œ

```typescript
import { BondkitTokenFactory } from "@b3dotfun/sdk/bondkit";
import { base } from "viem/chains";

// 1. åˆå§‹åŒ–å·¥å‚
const factory = new BondkitTokenFactory(
  base.id,
  process.env.WALLET_PRIVATE_KEY
);

// 2. ä½¿ç”¨å®Œæ•´é…ç½®è¿›è¡Œéƒ¨ç½²
const tokenAddress = await factory.deployBondkitToken({
  // ä»£å¸å…ƒæ•°æ®
  name: "MyToken",
  symbol: "MTK",
  
  // ç»æµå­¦
  finalTokenSupply: parseEther("10000000"),
  aggressivenessFactor: 45,
  targetAmount: parseEther("20"),
  
  // è´¹ç”¨ç»“æ„  
  feeRecipient: process.env.TREASURY_ADDRESS,
  lpSplitRatioFeeRecipientBps: 2000n,
  
  // ç®¡ç†å‘˜ & è¿ç§»
  migrationAdminAddress: process.env.ADMIN_ADDRESS,
  
  // Uniswap V4 é…ç½®
  bondingPhaseSplitter: "0x2AB69e0d9D20D3700466153D84a6574128154Fd2",
  v4PoolManager: "0x498581fF718922c3f8e6A244956aF099B2652b2b",
  v4Hook: "0xB36f4A2FB18b745ef8eD31452781a463d2B3f0cC",
  v4PoolFee: 3000,
  v4TickSpacing: 60,
  tradingToken: "0xB3B32F9f8827D4634fE7d973Fa1034Ec9fdDB3B3"
});

console.log(`âœ… ä»£å¸éƒ¨ç½²æˆåŠŸ: ${tokenAddress}`);
```

## é˜¶æ®µ 2ï¼šå€ºåˆ¸é˜¶æ®µç®¡ç†

### å‘è¡Œç­–ç•¥

<Tabs>
  <Tab title="ç¤¾åŒºå»ºè®¾">
    **å‘è¡Œå‰æ¸…å•:**
    - [ ] åœ¨ Basescan ä¸ŠéªŒè¯ä»£å¸åˆçº¦
    - [ ] å»ºç«‹ç¤¾åŒºæ¸ é“ï¼ˆDiscord/Telegramï¼‰  
    - [ ] å‡†å¤‡è¥é”€ææ–™
    - [ ] è§„åˆ’åˆå§‹è´­ä¹°ç­–ç•¥
    - [ ] å‡†å¤‡ä»·æ ¼è·Ÿè¸ªä»ªè¡¨æ¿
    
    **å‘è¡Œæ—¥:**
    ```typescript
    // è¿æ¥åˆ°æ‚¨çš„ä»£å¸
    const token = new BondkitToken(tokenAddress, privateKey);
    
    // åˆå§‹è´­ä¹°ä»¥ç¡®å®šä»·æ ¼
    await token.buy(parseEther("1"), 0n); // 1 B3 ä»£å¸
    
    // ä½¿ç”¨çœŸå®æ•°æ®å®£å¸ƒå‘è¡Œ
    const price = await token.getCurrentPrice();
    const progress = await token.getBondingProgress();
    
    console.log(`ğŸš€ ç°å·²ä¸Šçº¿ï¼Œæ¯ä¸ªä»£å¸ä»·æ ¼ ${formatEther(price)} B3`);
    console.log(`ğŸ¯ è¾¾åˆ°è¿ç§»çš„ ${(progress.progress * 100).toFixed(1)}%`);
    ```
  </Tab>
  
  <Tab title="è¿›åº¦ç›‘æ§">
    **å…³é”®æŒ‡æ ‡ä»ªè¡¨æ¿:**
    ```typescript
    async function getDashboardData(token) {
      const [
        tokenDetails,
        currentPrice, 
        progress,
        totalSupply,
        status
      ] = await Promise.all([
        token.getTokenDetails(),
        token.getCurrentPrice(),
        token.getBondingProgress(), 
        token.getTotalSupply(),
        token.currentStatus()
      ]);
      
      return {
        // ä»£å¸ä¿¡æ¯
        name: tokenDetails.name,
        symbol: tokenDetails.symbol,
        
        // ç»æµå­¦
        currentPrice: formatEther(currentPrice),
        progress: (progress.progress * 100).toFixed(2) + '%',
        raised: formatEther(progress.raised),
        target: formatEther(progress.threshold),
        remaining: formatEther(progress.threshold - progress.raised),
        
        // ä¾›åº”
        circulatingSupply: formatEther(totalSupply),
        
        // çŠ¶æ€
        phase: status === 1 ? 'å€ºåˆ¸' : status === 2 ? 'DEX' : 'å…¶ä»–'
      };
    }
    
    // åœ¨æ‚¨çš„ä»ªè¡¨æ¿ä¸­ä½¿ç”¨
    const data = await getDashboardData(token);
    ```
  </Tab>
  
  <Tab title="ç¤¾åŒºå‚ä¸">
    **å®æ—¶æ›´æ–°:**
    ```typescript
    // è®¾ç½®äº‹ä»¶ç›‘æ§ä»¥è¿›è¡Œç¤¾åŒºæ›´æ–°
    token.onBuy((event) => {
      const announcement = `
        ğŸŸ¢ æ–°è´­ä¹°: ${formatEther(event.tokensOut)} ${symbol}
        ğŸ’° èŠ±è´¹: ${formatEther(event.ethIn)} B3
        ğŸ‘¤ ä¹°å®¶: ${event.buyer}
      `;
      
      // å‘å¸ƒåˆ° Discord/Telegram æœºå™¨äºº
      postToDiscord(announcement);
    });
    
    token.onSell((event) => {
      const announcement = `
        ğŸ”´ å‡ºå”®: ${formatEther(event.tokensIn)} ${symbol}
        ğŸ’° æ”¶åˆ°: ${formatEther(event.ethOut)} B3  
        ğŸ‘¤ å–å®¶: ${event.seller}
      `;
      
      postToDiscord(announcement);
    });
    
    // è¿›åº¦é‡Œç¨‹ç¢‘
    const progress = await token.getBondingProgress();
    if (progress.progress >= 0.5 && progress.progress < 0.6) {
      postToDiscord("ğŸ¯ å·²ç­¹èµ„ 50%ï¼è¿ç§»è¿˜æœ‰ä¸€åŠï¼");
    } else if (progress.progress >= 0.9) {
      postToDiscord("ğŸ”¥ å·²ç­¹èµ„ 90%ï¼è¿ç§»å³å°†åˆ°æ¥ï¼");
    }
    ```
  </Tab>
</Tabs>

### ç®¡ç†å€ºåˆ¸æ›²çº¿

**å¥åº·å€ºåˆ¸é˜¶æ®µæŒ‡æ ‡:**
- ç¨³å®šçš„äº¤æ˜“é‡
- ä¸æ–­å¢é•¿çš„æŒæœ‰è€…åŸºç¡€  
- æ´»è·ƒçš„ç¤¾åŒºå‚ä¸
- æœå‘ç›®æ ‡è¿›å±•ï¼ˆä½†ä¸è¦å¤ªå¿«ï¼‰
- æœ€å°åŒ–çš„å¤§è§„æ¨¡æŠ›å”®

**è­¦å‘Šä¿¡å·:**
- 24 å°æ—¶å†…æ— äº¤æ˜“æ´»åŠ¨
- å•ä¸€é²¸é±¼æ§åˆ¶å¤§æ¯”ä¾‹
- ç¤¾åŒºæ²¡æœ‰å¿«é€Ÿè¾¾åˆ°ç›®æ ‡
- æœºå™¨äººå¯¼è‡´çš„è¿‡åº¦æ³¢åŠ¨

## é˜¶æ®µ 3ï¼šè¿ç§»å‡†å¤‡

### è¿ç§»å‰æ¸…å•

```typescript
async function checkMigrationReadiness(token) {
  const [canMigrate, progress, status] = await Promise.all([
    token.canMigrate(),
    token.getBondingProgress(),
    token.currentStatus()
  ]);
  
  const checks = {
    targetReached: canMigrate,
    progressComplete: progress.progress >= 1.0,
    stillBondingPhase: status === 1,
    communityReady: await checkCommunityConsensus(), // æ‚¨çš„é€»è¾‘
    liquidityPlan: await checkPostMigrationPlan()     // æ‚¨çš„é€»è¾‘
  };
  
  const allReady = Object.values(checks).every(Boolean);
  
  return {
    ready: allReady,
    checks,
    recommendation: allReady ? 
      "âœ… å‡†å¤‡è¿ç§»ï¼" : 
      "â³ åœ¨è¿ç§»å‰è§£å†³é—®é¢˜"
  };
}
```

### è¿ç§»æ—¶æœºç­–ç•¥

<AccordionGroup>
  <Accordion title="æœ€ä½³æ—¶æœº">
    **æœ€ä½³å®è·µ:**
    - æå‰ 24-48 å°æ—¶å®£å¸ƒè¿ç§»
    - é€‰æ‹©æ‚¨çš„ç¤¾åŒºæ´»è·ƒæ—¶é—´
    - ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç¤¾åŒºå…±è¯†
    - å‡†å¤‡è¿ç§»åçš„è¥é”€
    
    **è¿ç§»å‰å…¬å‘Š:**
    ```typescript
    const migrationData = await token.getMigrationData();
    
    const announcement = `
      ğŸš€ è¿ç§»å·²å®‰æ’
      
      ğŸ“Š æœ€ç»ˆå€ºåˆ¸ç»Ÿè®¡:
      â€¢ ç­¹é›†: ${formatEther(progress.raised)} B3
      â€¢ åˆ†å‘ä»£å¸: ${formatEther(totalSupply)}
      
      ğŸ”„ è¿ç§»å°†åˆ›å»º:
      â€¢ åˆå§‹ LP: ${formatEther(migrationData.ethForLp)} B3 + ä»£å¸
      â€¢ å¼€ç›˜ä»·æ ¼: ~${calculateOpeningPrice(migrationData)} B3/ä»£å¸
      
      â° 24 å°æ—¶åè¿ç§»ï¼
    `;
    ```
  </Accordion>
  
  <Accordion title="è¿ç§»æ‰§è¡Œ">
    **è¿ç§»è¿‡ç¨‹:**
    ```typescript
    // æœ€ç»ˆæ£€æŸ¥
    const readiness = await checkMigrationReadiness(token);
    if (!readiness.ready) {
      throw new Error(`æœªå‡†å¤‡å¥½: ${JSON.stringify(readiness.checks)}`);
    }
    
    // æ‰§è¡Œè¿ç§»
    console.log("ğŸ”„ å¼€å§‹è¿ç§»åˆ° Uniswap V4...");
    const migrationTx = await token.migrateToDex();
    
    // ç­‰å¾…ç¡®è®¤
    const receipt = await token.waitForTransaction(migrationTx);
    
    if (receipt.status === 'success') {
      console.log("âœ… è¿ç§»æˆåŠŸï¼");
      
      // éªŒè¯æ–°çŠ¶æ€
      const newStatus = await token.currentStatus();
      console.log(`çŠ¶æ€: ${newStatus === 2 ? 'DEX é˜¶æ®µ' : 'æœªçŸ¥'}`);
      
      // å‘ç¤¾åŒºå®£å¸ƒ
      const announcement = `
        ğŸ‰ è¿ç§»å®Œæˆï¼
        
        ğŸ“ ç°åœ¨åœ¨ Uniswap V4 ä¸Šäº¤æ˜“
        ğŸ”— äº¤æ˜“: ${migrationTx}
        ğŸ’« ä»£å¸ç°åœ¨å®Œå…¨å»ä¸­å¿ƒåŒ–ï¼
      `;
      
      postToDiscord(announcement);
    }
    ```
  </Accordion>
</AccordionGroup>

## é˜¶æ®µ 4ï¼šDEX é˜¶æ®µæ“ä½œ

### è¿ç§»åç«‹å³ï¼ˆé¦– 24 å°æ—¶ï¼‰

```typescript
// åˆå§‹åŒ– DEX äº¤æ˜“å·¥å…·
import { BondkitSwapService } from "@b3dotfun/sdk/bondkit";

const swapService = new BondkitSwapService(tokenAddress);

// éªŒè¯ DEX åŠŸèƒ½
const isSwapAvailable = await token.isSwapAvailable();
if (isSwapAvailable) {
  console.log("âœ… DEX äº¤æ˜“æ´»è·ƒ");
  
  // æµ‹è¯•äº¤æ¢æŠ¥ä»·
  const quote = await swapService.getSwapQuote({
    tokenIn: "0xB3B32F9f8827D4634fE7d973Fa1034Ec9fdDB3B3",
    tokenOut: tokenAddress,
    amountIn: "1",
    tokenInDecimals: 18,
    tokenOutDecimals: 18,
    slippageTolerance: 0.005,
    recipient: testAddress
  });
  
  console.log(`DEX ä»·æ ¼: ${quote.executionPrice} B3 æ¯ä»£å¸`);
}
```

### é•¿æœŸ DEX ç­–ç•¥

<Tabs>
  <Tab title="æµåŠ¨æ€§ç®¡ç†">
    **åˆå§‹æµåŠ¨æ€§åˆ†æ:**
    ```typescript
    async function analyzeLiquidity() {
      // è·å–æ± ä¿¡æ¯ï¼ˆå®ç°å–å†³äºæ‚¨çš„è®¾ç½®ï¼‰
      const poolData = await getUniswapV4PoolData(tokenAddress);
      
      return {
        totalValueLocked: poolData.tvl,
        tradingVolume24h: poolData.volume24h,
        priceImpactFor1k: await calculatePriceImpact(1000),
        liquidityUtilization: poolData.utilization,
        
        recommendations: {
          needsMoreLiquidity: poolData.tvl < minimumTVL,
          shouldIncentivize: poolData.utilization > 0.8,
          healthyTrading: poolData.volume24h > minimumVolume
        }
      };
    }
    ```
    
    **æµåŠ¨æ€§æ¿€åŠ±è®¡åˆ’:**
    ```typescript
    // ç¤ºä¾‹ LP å¥–åŠ±ç»“æ„
    const lpIncentives = {
      rewardToken: tokenAddress,
      dailyRewards: parseEther("1000"), // æ¯å¤© 1000 ä»£å¸
      minimumLPTime: 7 * 24 * 3600, // æœ€å°‘ 7 å¤©
      bonusMultipliers: {
        week1: 2.0,  // ç¬¬ä¸€å‘¨ 2x å¥–åŠ±
        month1: 1.5, // ç¬¬ä¸€ä¸ªæœˆ 1.5x å¥–åŠ±
        longTerm: 1.0 // ä¹‹åæ ‡å‡†å¥–åŠ±
      }
    };
    ```
  </Tab>
  
  <Tab title="ç¤¾åŒºè¿‡æ¸¡">
    **æ•™è‚²å†…å®¹:**
    ```typescript
    const migrationGuideForUsers = {
      trading: {
        before: "ä½¿ç”¨ token.buy() å’Œ token.sell()",
        after: "ä½¿ç”¨ DEX æ¥å£æˆ– swapService.executeSwap()",
        walletSetup: "å°†ä»£å¸æ·»åŠ åˆ° MetaMaskï¼Œä½¿ç”¨ Uniswap æ¥å£"
      },
      
      benefits: {
        moreFeatures: "é™ä»·å•ï¼Œé«˜çº§äº¤æ˜“å·¥å…·",
        composability: "ä¸å…¶ä»– DeFi åè®®ä¸€èµ·ä½¿ç”¨", 
        decentralization: "æ²¡æœ‰å‰©ä½™çš„ç®¡ç†å‘˜æ§åˆ¶"
      },
      
      risks: {
        priceVolatility: "å¸‚åœºé©±åŠ¨å®šä»·ï¼Œå¯èƒ½æ³¢åŠ¨",
        liquidityRisk: "å¤§é¢äº¤æ˜“å¯èƒ½æœ‰ä»·æ ¼å½±å“",
        smartContractRisk: "æ ‡å‡† DeFi é£é™©é€‚ç”¨"
      }
    };
    ```
    
    **ç¤¾åŒºèµ„æº:**
    - æ›´æ–°çš„æ–‡æ¡£
    - äº¤æ˜“æ•™ç¨‹è§†é¢‘  
    - DEX æ¥å£é›†æˆæŒ‡å—
    - æä¾›æµåŠ¨æ€§æ•™ç¨‹
  </Tab>
  
  <Tab title="ç›‘æ§ä¸åˆ†æ">
    **DEX é˜¶æ®µä»ªè¡¨æ¿:**
    ```typescript
    async function getDEXPhaseMetrics(tokenAddress) {
      return {
        // ä»·æ ¼ & äº¤æ˜“é‡
        currentPrice: await getCurrentDEXPrice(tokenAddress),
        volume24h: await get24hVolume(tokenAddress),
        priceChange24h: await getPriceChange24h(tokenAddress),
        
        // æµåŠ¨æ€§
        totalLiquidity: await getTotalLiquidity(tokenAddress),
        lpTokenHolders: await getLPHolderCount(tokenAddress),
        
        // äº¤æ˜“
        transactions24h: await getTransactionCount24h(tokenAddress),
        uniqueTraders24h: await getUniqueTraders24h(tokenAddress),
        avgTradeSize: await getAvgTradeSize(tokenAddress),
        
        // å¥åº·æŒ‡æ ‡
        liquidityUtilization: await getLiquidity
