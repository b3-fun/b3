---
title: å¿«é€Ÿå¼€å§‹
description: åœ¨å‡ åˆ†é’Ÿå†…å¯åŠ¨ä¸€ä¸ª ERC20 å€ºåˆ¸ä»£å¸ï¼šåˆ›å»º â†’ å€ºåˆ¸ â†’ è¿ç§»ã€‚
lang: cn
originalPath: bondkit/quickstart.mdx
---
## æ¦‚è§ˆ

è¿™ä¸ªå¿«é€Ÿå…¥é—¨æŒ‡å—å°†åœ¨ä¸åˆ°5åˆ†é’Ÿçš„æ—¶é—´å†…å¼•å¯¼æ‚¨å®ŒæˆBondKitä»£å¸çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸã€‚æ‚¨å°†å­¦ä¹ å¦‚ä½•ï¼š

1. **éƒ¨ç½²**ä¸€ä¸ªæ–°çš„å€ºåˆ¸ä»£å¸
2. **äº¤æ˜“**åœ¨ç»‘å®šé˜¶æ®µæœŸé—´
3. **ç›‘æ§**å‘ç›®æ ‡çš„è¿›å±•
4. **è¿ç§»**è‡³Uniswap v4

<Info>
  **å…ˆå†³æ¡ä»¶**ï¼šç¡®ä¿æ‚¨å·²å®Œæˆ[å®‰è£…](/bondkit/installation)å¹¶åœ¨Baseä¸Šæ‹¥æœ‰ä¸€ä¸ªå·²èµ„é‡‘æ³¨å…¥çš„é’±åŒ…ã€‚
</Info>

## å®Œæ•´æµç¨‹å›¾

```mermaid
sequenceDiagram
    participant User
    participant Factory
    participant Token
    participant Traders
    participant UniswapV4
    
    User->>Factory: deployBondkitToken()
    Factory->>Token: é€šè¿‡ä»£ç†åˆ›å»º
    Token-->>User: ä»£å¸åœ°å€
    
    loop ç»‘å®šé˜¶æ®µ
        Traders->>Token: buy()/sell()
        Token-->>Traders: ä»£å¸/ETH
    end
    
    User->>Token: æ£€æŸ¥è¿›å±•
    Token-->>User: è¾¾åˆ°ç›®æ ‡ï¼
    
    User->>Token: migrateToDex()
    Token->>UniswapV4: åˆå§‹åŒ–æ± å­
    UniswapV4-->>Token: æ± å­å·²åˆ›å»º
    Token-->>User: è¿ç§»å®Œæˆ
```

## ç¬¬1æ­¥ï¼šéƒ¨ç½²æ‚¨çš„ä»£å¸

### åŸºæœ¬éƒ¨ç½²

```typescript
import { BondkitTokenFactory } from "@b3dotfun/sdk/bondkit";
import { base } from "viem/chains";
import { parseEther } from "viem";

// åˆå§‹åŒ–å·¥å‚
const factory = new BondkitTokenFactory(
  base.id, 
  process.env.WALLET_PRIVATE_KEY
);

// éƒ¨ç½²æ‚¨çš„ä»£å¸
const tokenAddress = await factory.deployBondkitToken({
  // ä»£å¸å…ƒæ•°æ®
  name: "My Awesome Token",
  symbol: "MAT",
  
  // ä¾›åº”é…ç½®ï¼ˆ100ä¸‡ä»£å¸ï¼‰
  finalTokenSupply: parseEther("1000000"),
  
  // ç»‘å®šæ›²çº¿è®¾ç½®
  aggressivenessFactor: 35,  // 0-100ï¼Œæ›´é«˜ = æ›´é™¡å³­çš„æ›²çº¿
  targetEth: parseEther("10"), // 10 ETHç›®æ ‡è¿ç§»
  
  // è´¹ç”¨é…ç½®
  feeRecipient: "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb1", // æ‚¨çš„åœ°å€
  lpSplitRatioFeeRecipientBps: 1000n, // 10%ç»™è´¹ç”¨æ¥æ”¶è€…
  
  // è¿ç§»è®¾ç½®
  migrationAdminAddress: "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb1",
  uniswapV2RouterAddress: "0x4752ba5DBc23f44D87826276BF6Fd6b1C372aD24" // V4è·¯ç”±å™¨
});

console.log("âœ… ä»£å¸éƒ¨ç½²äº:", tokenAddress);
```

### ç†è§£å‚æ•°

<ParamField path="finalTokenSupply" type="bigint" required>
  ä»£å¸çš„æ€»ä¾›åº”é‡ï¼ˆå¸¦18ä¸ªå°æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼š`parseEther("1000000")`è¡¨ç¤º100ä¸‡ä»£å¸ã€‚
</ParamField>

<ParamField path="aggressivenessFactor" type="number" required>
  æ§åˆ¶ç»‘å®šæ›²çº¿çš„é™¡å³­ç¨‹åº¦ï¼ˆ0-100ï¼‰ï¼š
  - **0-30**ï¼šçº¿æ€§å®šä»·ï¼Œå¯¹æ‰€æœ‰ä¹°å®¶å…¬å¹³
  - **30-60**ï¼šä¸­ç­‰æ›²çº¿ï¼Œå¹³è¡¡æ–¹æ³•
  - **60-100**ï¼šæ¿€è¿›ï¼Œå¥–åŠ±æ—©æœŸä¹°å®¶
</ParamField>

<ParamField path="targetEth" type="bigint" required>
  éœ€è¦çš„ETHé‡ä»¥å¯ç”¨è¿ç§»ã€‚ä½¿ç”¨`parseEther("10")`è¡¨ç¤º10 ETHã€‚
</ParamField>

<ParamField path="feeRecipient" type="address" required>
  æ¥æ”¶äº¤æ˜“è´¹ç”¨çš„åœ°å€ï¼ˆæ‰€æœ‰äº¤æ˜“çš„5%ï¼‰ã€‚
</ParamField>

<ParamField path="lpSplitRatioFeeRecipientBps" type="bigint" required>
  LPè´¹ç”¨åˆ†å‰²çš„åŸºç‚¹ï¼ˆ1/100çš„1%ï¼‰ã€‚1000 = 10%ã€‚
</ParamField>

## ç¬¬2æ­¥ï¼šç»‘å®šé˜¶æ®µæœŸé—´çš„äº¤æ˜“

### åˆå§‹åŒ–ä»£å¸å®ä¾‹

```typescript
import { BondkitToken } from "@b3dotfun/sdk/bondkit";
import { parseEther, formatEther } from "viem";

// è¿æ¥åˆ°æ‚¨éƒ¨ç½²çš„ä»£å¸
const token = new BondkitToken(
  tokenAddress, 
  process.env.WALLET_PRIVATE_KEY
);
```

### è´­ä¹°ä»£å¸

```typescript
// é¦–å…ˆè·å–ä»·æ ¼æŠ¥ä»·
const ethAmount = parseEther("1"); // 1 ETH
const expectedTokens = await token.getAmountOfTokensToBuy(ethAmount);

console.log(`1 ETH å°†è´­ä¹°: ${formatEther(expectedTokens)} ä»£å¸`);

// æ‰§è¡Œè´­ä¹°
const buyTx = await token.buy(
  0n,    // minTokensOutï¼ˆ0 = æ¥å—ä»»ä½•æ•°é‡ï¼Œç”¨äºé˜²æ­¢æ»‘ç‚¹ï¼‰
  "1"    // ETHæ•°é‡ä¸ºå­—ç¬¦ä¸²
);

console.log("è´­ä¹°å®Œæˆï¼Tx:", buyTx);
```

### å‡ºå”®ä»£å¸

```typescript
// æ£€æŸ¥æ‚¨çš„ä»£å¸ä½™é¢
const balance = await token.getBalance(userAddress);
console.log(`æ‚¨çš„ä½™é¢: ${formatEther(balance)} ä»£å¸`);

// è·å–å–å‡ºæŠ¥ä»·
const tokensToSell = parseEther("1000");
const expectedEth = await token.getAmountOfEthToReceive(tokensToSell);

console.log(`å‡ºå”®1000ä»£å¸å°†è¿”å›: ${formatEther(expectedEth)} ETH`);

// æ‰§è¡Œå‡ºå”®
const sellTx = await token.sell(
  tokensToSell,  // å‡ºå”®çš„ä»£å¸æ•°é‡
  0n             // æœ€å°ETHè¾“å‡ºï¼ˆç”¨äºé˜²æ­¢æ»‘ç‚¹ï¼‰
);

console.log("å‡ºå”®å®Œæˆï¼Tx:", sellTx);
```

### ç›‘æ§è¿›å±•

```typescript
// æ£€æŸ¥ç»‘å®šè¿›å±•
const progress = await token.getBondingProgress();

console.log(`
  è¿›å±•: ${(progress.progress * 100).toFixed(2)}%
  ç­¹é›†: ${formatEther(progress.raised)} ETH
  ç›®æ ‡: ${formatEther(progress.threshold)} ETH
  å‰©ä½™: ${formatEther(progress.threshold - progress.raised)} ETH
`);

// è·å–å½“å‰ä»£å¸ä»·æ ¼
const currentPrice = await token.getCurrentPrice();
console.log(`å½“å‰ä»·æ ¼: ${formatEther(currentPrice)} ETH æ¯ä»£å¸`);

// æ£€æŸ¥æ˜¯å¦å¯ä»¥è¿ç§»
const canMigrate = await token.canMigrate();
console.log(`å‡†å¤‡è¿ç§»: ${canMigrate}`);
```

### äº‹ä»¶ç›‘æ§

```typescript
// ç›‘å¬è´­ä¹°äº‹ä»¶
token.onBuy((event) => {
  console.log("æ–°è´­ä¹°:", {
    buyer: event.buyer,
    ethIn: formatEther(event.ethIn),
    tokensOut: formatEther(event.tokensOut)
  });
});

// ç›‘å¬å‡ºå”®äº‹ä»¶
token.onSell((event) => {
  console.log("æ–°å‡ºå”®:", {
    seller: event.seller,
    tokensIn: formatEther(event.tokensIn),
    ethOut: formatEther(event.ethOut)
  });
});
```

## ç¬¬3æ­¥ï¼šè¿ç§»åˆ°Uniswap v4

### æ£€æŸ¥è¿ç§»å‡†å¤‡æƒ…å†µ

```typescript
// éªŒè¯ç›®æ ‡æ˜¯å¦å·²è¾¾åˆ°
const progress = await token.getBondingProgress();

if (progress.progress >= 1.0) {
  console.log("âœ… ç›®æ ‡å·²è¾¾æˆï¼å‡†å¤‡è¿ç§»ã€‚");
  
  // è·å–è¿ç§»ç»†èŠ‚
  const migrationData = await token.getMigrationData();
  console.log("è¿ç§»å°†åˆ›å»ºæ± å­ï¼ŒåŒ…å«:", {
    ethLiquidity: formatEther(migrationData.ethForLp),
    tokenLiquidity: formatEther(migrationData.tokensForLp),
    initialPrice: formatEther(migrationData.sqrtPriceX96)
  });
} else {
  console.log(`â³ éœ€è¦æ›´å¤š${formatEther(progress.threshold - progress.raised)} ETH`);
}
```

### æ‰§è¡Œè¿ç§»

```typescript
// åªæœ‰è¿ç§»ç®¡ç†å‘˜å¯ä»¥è°ƒç”¨æ­¤æ“ä½œ
if (await token.isMigrationAdmin(userAddress)) {
  console.log("ğŸš€ å¯åŠ¨è¿ç§»åˆ°Uniswap v4...");
  
  const migrationTx = await token.migrateToDex();
  console.log("è¿ç§»äº¤æ˜“:", migrationTx);
  
  // ç­‰å¾…ç¡®è®¤
  const receipt = await token.waitForTransaction(migrationTx);
  
  if (receipt.status === "success") {
    console.log("âœ… è¿ç§»å®Œæˆï¼");
    console.log("Uniswap v4æ± å­åœ°å€:", await token.getPoolAddress());
  }
} else {
  console.log("âŒ åªæœ‰è¿ç§»ç®¡ç†å‘˜å¯ä»¥æ‰§è¡Œè¿ç§»");
}
```

<Warning>
  **é‡è¦**ï¼šè¿ç§»åï¼š
  - åˆçº¦æ‰€æœ‰æƒè‡ªåŠ¨æ”¾å¼ƒ
  - ç»‘å®šæ›²çº¿äº¤æ˜“æ°¸ä¹…ç¦ç”¨
  - æ‰€æœ‰äº¤æ˜“è½¬ç§»åˆ°Uniswap v4
  - æ— æ³•è¿›è¡Œè¿›ä¸€æ­¥çš„ç®¡ç†å‘˜æ“ä½œ
</Warning>

## å®Œæ•´ç¤ºä¾‹

è¿™é‡Œæ˜¯ä¸€ä¸ªå®Œæ•´çš„å·¥ä½œç¤ºä¾‹ï¼Œæ¼”ç¤ºäº†æ•´ä¸ªç”Ÿå‘½å‘¨æœŸï¼š

```typescript
import { 
  BondkitTokenFactory, 
  BondkitToken 
} from "@b3dotfun/sdk/bondkit";
import { base } from "viem/chains";
import { parseEther, formatEther } from "viem";

async function launchToken() {
  // 1. éƒ¨ç½²ä»£å¸
  const factory = new BondkitTokenFactory(
    base.id,
    process.env.WALLET_PRIVATE_KEY
  );
  
  const tokenAddress = await factory.deployBondkitToken({
    name: "Demo Token",
    symbol: "DEMO",
    finalTokenSupply: parseEther("1000000"),
    aggressivenessFactor: 50,
    targetEth: parseEther("5"),
    feeRecipient: process.env.WALLET_ADDRESS,
    lpSplitRatioFeeRecipientBps: 1000n,
    migrationAdminAddress: process.env.WALLET_ADDRESS,
    uniswapV2RouterAddress: "0x4752ba5DBc23f44D87826276BF6Fd6b1C372aD24"
  });
  
  console.log("ä»£å¸éƒ¨ç½²:", tokenAddress);
  
  // 2. ç»‘å®šæœŸé—´äº¤æ˜“
  const token = new BondkitToken(
    tokenAddress,
    process.env.WALLET_PRIVATE_KEY
  );
  
  // è´­ä¹°ä¸€äº›ä»£å¸
  await token.buy(0n, "0.5");
  console.log("ç”¨0.5 ETHè´­ä¹°äº†ä»£å¸");
  
  // æ£€æŸ¥è¿›å±•
  const progress = await token.getBondingProgress();
  console.log(`è¿›å±•: ${(progress.progress * 100).toFixed(2)}%`);
  
  // 3. ç»§ç»­äº¤æ˜“ç›´åˆ°è¾¾åˆ°ç›®æ ‡...
  //ï¼ˆåœ¨ç”Ÿäº§ä¸­ï¼Œå…¶ä»–ç”¨æˆ·å°†è¿›è¡Œäº¤æ˜“ï¼‰
  
  // 4. å‡†å¤‡å¥½æ—¶è¿ç§»
  if (progress.progress >= 1.0) {
    await token.migrateToDex();
    console.log("è¿ç§»å®Œæˆï¼ä»£å¸ç°åœ¨åœ¨Uniswap v4ä¸Š");
  }
}

launchToken().catch(console.error);
```

## ä¸‹ä¸€æ­¥

<CardGroup cols={2}>
  <Card title="æ¦‚å¿µ" icon="book" href="/bondkit/concepts/bonding-phase">
    æ·±å…¥äº†è§£ç»‘å®šæ›²çº¿å’Œå®šä»·
  </Card>
  <Card title="SDKå‚è€ƒ" icon="code" href="/bondkit/sdk/reference">
    æ¢ç´¢æ‰€æœ‰å¯ç”¨æ–¹æ³•
  </Card>
  <Card title="æŒ‡å—" icon="compass" href="/bondkit/guides/choose-quote-asset">
    å­¦ä¹ é«˜çº§ç­–ç•¥
  </Card>
  <Card title="æ¼”ç¤ºåº”ç”¨" icon="desktop" href="https://github.com/b3dotfun/b3-monorepo/tree/main/apps/bondkit-demo">
    æŸ¥çœ‹å®Œæ•´å®ç°
  </Card>
</CardGroup>
