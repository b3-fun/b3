---
title: Ciclo de Vida Completo del Token
description: >-
  Gu√≠a completa: desde la creaci√≥n de tokens hasta la fase de bonding, el
  comercio total en DEX y la descentralizaci√≥n.
lang: es
originalPath: bondkit/guides/token-lifecycle.mdx
---
## Visi√≥n general

Esta gu√≠a te lleva a trav√©s del ciclo de vida completo de un token Bondkit, desde la creaci√≥n inicial hasta la descentralizaci√≥n total. Entender este flujo es esencial para lanzamientos y gesti√≥n exitosos de tokens.

```mermaid
flowchart TD
    A[Deploy Token] --> B[Bonding Phase]
    B --> C{Target Reached?}
    C -->|No| D[Continue Trading]
    D --> C
    C -->|Yes| E[Migration Ready]
    E --> F[Migrate to DEX]
    F --> G[DEX Phase]
    G --> H[Full Decentralization]
    
    style A fill:#4CAF50,stroke:#2E7D32,color:#fff
    style B fill:#FF9800,stroke:#F57C00,color:#fff
    style E fill:#9C27B0,stroke:#6A1B9A,color:#fff
    style F fill:#2196F3,stroke:#1565C0,color:#fff
    style G fill:#00BCD4,stroke:#00838F,color:#fff
    style H fill:#4CAF50,stroke:#2E7D32,color:#fff
```

## Fase 1: Creaci√≥n del Token

### Planificaci√≥n Pre-Despliegue

<AccordionGroup>
  <Accordion title="Elige Tus Par√°metros">
    **Decisiones Cr√≠ticas:**
    
    | Par√°metro | Impacto | Recomendaci√≥n |
    |-----------|---------|----------------|
    | **finalTokenSupply** | Total de tokens creados | 1M-100M tokens t√≠picos |
    | **aggressivenessFactor** | Pendiente de la curva de precios | 30-60 para lanzamientos equilibrados |
    | **targetAmount** | Umbral de migraci√≥n | 5-50 tokens de trading |
    | **tradingToken** | Con qu√© pagan los usuarios | Usa B3 para la mainnet Base |
    
    **Configuraci√≥n de Ejemplo:**
    ```typescript
    const tokenConfig = {
      name: "MyToken",
      symbol: "MTK",
      finalTokenSupply: parseEther("10000000"), // 10M tokens
      aggressivenessFactor: 45, // Curva moderada
      targetAmount: parseEther("20"), // 20 tokens B3
      tradingToken: "0xB3B32F9f8827D4634fE7d973Fa1034Ec9fdDB3B3"
    };
    ```
  </Accordion>
  
  <Accordion title="Establecer Estructura de Tarifas">
    **Estrategia de Distribuci√≥n de Tarifas:**
    
    ```typescript
    const feeConfig = {
      feeRecipient: "0x...", // Tu direcci√≥n de tesorer√≠a/equipo
      lpSplitRatioFeeRecipientBps: 2000n, // 20% al receptor de la tarifa
      // El 80% restante se convierte en tokens LP despu√©s de la migraci√≥n
    };
    ```
    
    **Flujo de Tarifas:**
    - **Fase de Bonding**: 5% de todas las transacciones ‚Üí `feeRecipient`
    - **Post-Migraci√≥n**: 0.3% tarifas de trading ‚Üí proveedores de LP
  </Accordion>
</AccordionGroup>

### Ejecuci√≥n del Despliegue

```typescript
import { BondkitTokenFactory } from "@b3dotfun/sdk/bondkit";
import { base } from "viem/chains";

// 1. Inicializar f√°brica
const factory = new BondkitTokenFactory(
  base.id,
  process.env.WALLET_PRIVATE_KEY
);

// 2. Desplegar con configuraci√≥n completa
const tokenAddress = await factory.deployBondkitToken({
  // Metadatos del token
  name: "MyToken",
  symbol: "MTK",
  
  // Econom√≠a
  finalTokenSupply: parseEther("10000000"),
  aggressivenessFactor: 45,
  targetAmount: parseEther("20"),
  
  // Estructura de tarifas  
  feeRecipient: process.env.TREASURY_ADDRESS,
  lpSplitRatioFeeRecipientBps: 2000n,
  
  // Administraci√≥n y migraci√≥n
  migrationAdminAddress: process.env.ADMIN_ADDRESS,
  
  // Configuraci√≥n Uniswap V4
  bondingPhaseSplitter: "0x2AB69e0d9D20D3700466153D84a6574128154Fd2",
  v4PoolManager: "0x498581fF718922c3f8e6A244956aF099B2652b2b",
  v4Hook: "0xB36f4A2FB18b745ef8eD31452781a463d2B3f0cC",
  v4PoolFee: 3000,
  v4TickSpacing: 60,
  tradingToken: "0xB3B32F9f8827D4634fE7d973Fa1034Ec9fdDB3B3"
});

console.log(`‚úÖ Token desplegado: ${tokenAddress}`);
```

## Fase 2: Gesti√≥n de la Fase de Bonding

### Estrategia de Lanzamiento

<Tabs>
  <Tab title="Construcci√≥n de la Comunidad">
    **Lista de Verificaci√≥n Pre-Lanzamiento:**
    - [ ] Contrato de token verificado en Basescan
    - [ ] Canales de comunidad establecidos (Discord/Telegram)  
    - [ ] Materiales de marketing preparados
    - [ ] Estrategia de compra inicial planificada
    - [ ] Panel de seguimiento de precios listo
    
    **D√≠a del Lanzamiento:**
    ```typescript
    // Conectar con tu token
    const token = new BondkitToken(tokenAddress, privateKey);
    
    // Compra inicial para establecer precio
    await token.buy(parseEther("1"), 0n); // 1 token B3
    
    // Anunciar lanzamiento con datos reales
    const price = await token.getCurrentPrice();
    const progress = await token.getBondingProgress();
    
    console.log(`üöÄ En vivo a ${formatEther(price)} B3 por token`);
    console.log(`üéØ ${(progress.progress * 100).toFixed(1)}% para la migraci√≥n`);
    ```
  </Tab>
  
  <Tab title="Monitoreo del Progreso">
    **Panel de M√©tricas Clave:**
    ```typescript
    async function getDashboardData(token) {
      const [
        tokenDetails,
        currentPrice, 
        progress,
        totalSupply,
        status
      ] = await Promise.all([
        token.getTokenDetails(),
        token.getCurrentPrice(),
        token.getBondingProgress(), 
        token.getTotalSupply(),
        token.currentStatus()
      ]);
      
      return {
        // Informaci√≥n del Token
        name: tokenDetails.name,
        symbol: tokenDetails.symbol,
        
        // Econom√≠a
        currentPrice: formatEther(currentPrice),
        progress: (progress.progress * 100).toFixed(2) + '%',
        raised: formatEther(progress.raised),
        target: formatEther(progress.threshold),
        remaining: formatEther(progress.threshold - progress.raised),
        
        // Suministro
        circulatingSupply: formatEther(totalSupply),
        
        // Estado
        phase: status === 1 ? 'Bonding' : status === 2 ? 'DEX' : 'Otro'
      };
    }
    
    // Usar en tu panel
    const data = await getDashboardData(token);
    ```
  </Tab>
  
  <Tab title="Compromiso de la Comunidad">
    **Actualizaciones en Tiempo Real:**
    ```typescript
    // Configurar monitoreo de eventos para actualizaciones de la comunidad
    token.onBuy((event) => {
      const announcement = `
        üü¢ NUEVA COMPRA: ${formatEther(event.tokensOut)} ${symbol}
        üí∞ Gastado: ${formatEther(event.ethIn)} B3
        üë§ Comprador: ${event.buyer}
      `;
      
      // Publicar en bot de Discord/Telegram
      postToDiscord(announcement);
    });
    
    token.onSell((event) => {
      const announcement = `
        üî¥ VENTA: ${formatEther(event.tokensIn)} ${symbol}
        üí∞ Recibido: ${formatEther(event.ethOut)} B3  
        üë§ Vendedor: ${event.seller}
      `;
      
      postToDiscord(announcement);
    });
    
    // Hitos de progreso
    const progress = await token.getBondingProgress();
    if (progress.progress >= 0.5 && progress.progress < 0.6) {
      postToDiscord("üéØ ¬°50% financiado! ¬°Mitad del camino para la migraci√≥n!");
    } else if (progress.progress >= 0.9) {
      postToDiscord("üî• ¬°90% financiado! Migraci√≥n inminente!");
    }
    ```
  </Tab>
</Tabs>

### Gesti√≥n de la Curva de Bonding

**Indicadores de una Fase de Bonding Saludable:**
- Volumen de trading constante
- Base de holders en crecimiento  
- Compromiso activo de la comunidad
- Progreso hacia el objetivo (pero no demasiado r√°pido)
- M√≠nimas grandes ventas

**Se√±ales de Advertencia:**
- Sin actividad de trading durante m√°s de 24 horas
- Un solo whale controlando un gran porcentaje
- Logro r√°pido del objetivo sin comunidad
- Volatilidad excesiva por bots

## Fase 3: Preparaci√≥n para la Migraci√≥n

### Lista de Verificaci√≥n Pre-Migraci√≥n

```typescript
async function checkMigrationReadiness(token) {
  const [canMigrate, progress, status] = await Promise.all([
    token.canMigrate(),
    token.getBondingProgress(),
    token.currentStatus()
  ]);
  
  const checks = {
    targetReached: canMigrate,
    progressComplete: progress.progress >= 1.0,
    stillBondingPhase: status === 1,
    communityReady: await checkCommunityConsensus(), // Tu l√≥gica
    liquidityPlan: await checkPostMigrationPlan()     // Tu l√≥gica
  };
  
  const allReady = Object.values(checks).every(Boolean);
  
  return {
    ready: allReady,
    checks,
    recommendation: allReady ? 
      "‚úÖ ¬°Listo para migrar!" : 
      "‚è≥ Soluciona problemas antes de la migraci√≥n"
  };
}
```

### Estrategia de Tiempo de Migraci√≥n

<AccordionGroup>
  <Accordion title="Momento √ìptimo">
    **Mejores Pr√°cticas:**
    - Anunciar la migraci√≥n con 24-48 horas de antelaci√≥n
    - Elegir un momento de alta actividad para tu comunidad
    - Asegurar suficiente consenso comunitario
    - Tener listo el marketing post-migraci√≥n
    
    **Anuncio Pre-Migraci√≥n:**
    ```typescript
    const migrationData = await token.getMigrationData();
    
    const announcement = `
      üöÄ MIGRACI√ìN PROGRAMADA
      
      üìä Estad√≠sticas Finales de Bonding:
      ‚Ä¢ Recaudado: ${formatEther(progress.raised)} B3
      ‚Ä¢ Tokens Distribuidos: ${formatEther(totalSupply)}
      
      üîÑ La Migraci√≥n Crear√°:
      ‚Ä¢ LP Inicial: ${formatEther(migrationData.ethForLp)} B3 + tokens
      ‚Ä¢ Precio de Apertura: ~${calculateOpeningPrice(migrationData)} B3/token
      
      ‚è∞ Migraci√≥n en 24 horas!
    `;
    ```
  </Accordion>
  
  <Accordion title="Ejecuci√≥n de la Migraci√≥n">
    **El Proceso de Migraci√≥n:**
    ```typescript
    // Verificaciones finales
    const readiness = await checkMigrationReadiness(token);
    if (!readiness.ready) {
      throw new Error(`No est√° listo: ${JSON.stringify(readiness.checks)}`);
    }
    
    // Ejecutar migraci√≥n
    console.log("üîÑ Iniciando migraci√≥n a Uniswap V4...");
    const migrationTx = await token.migrateToDex();
    
    // Esperar confirmaci√≥n
    const receipt = await token.waitForTransaction(migrationTx);
    
    if (receipt.status === 'success') {
      console.log("‚úÖ ¬°Migraci√≥n exitosa!");
      
      // Verificar nuevo estado
      const newStatus = await token.currentStatus();
      console.log(`Estado: ${newStatus === 2 ? 'Fase DEX' : 'Desconocido'}`);
      
      // Anunciar a la comunidad
      const announcement = `
        üéâ ¬°MIGRACI√ìN COMPLETA!
        
        üìç Ahora trading en Uniswap V4
        üîó Transacci√≥n: ${migrationTx}
        üí´ Token ahora completamente descentralizado!
      `;
      
      postToDiscord(announcement);
    }
    ```
  </Accordion>
</AccordionGroup>

## Fase 4: Operaciones en la Fase DEX

### Inmediatamente Post-Migraci√≥n (Primeras 24 Horas)

```typescript
// Inicializar herramientas de trading DEX
import { BondkitSwapService } from "@b3dotfun/sdk/bondkit";

const swapService = new BondkitSwapService(tokenAddress);

// Verificar funcionalidad DEX
const isSwapAvailable = await token.isSwapAvailable();
if (isSwapAvailable) {
  console.log("‚úÖ Trading DEX activo");
  
  // Probar cotizaci√≥n de swap
  const quote = await swapService.getSwapQuote({
    tokenIn: "0xB3B32F9f8827D4634fE7d973Fa1034Ec9fdDB3B3",
    tokenOut: tokenAddress,
    amountIn: "1",
    tokenInDecimals: 18,
    tokenOutDecimals: 18,
    slippageTolerance: 0.005,
    recipient: testAddress
  });
  
  console.log(`Precio DEX: ${quote.executionPrice} B3 por token`);
}
```

### Estrategia DEX a Largo Plazo

<Tabs>
  <Tab title="Gesti√≥n de Liquidez">
    **An√°lisis de Liquidez Inicial:**
    ```typescript
    async function analyzeLiquidity() {
      // Obtener informaci√≥n del pool (la implementaci√≥n depende de tu configuraci√≥n)
      const poolData = await getUniswapV4PoolData(tokenAddress);
      
      return {
        totalValueLocked: poolData.tvl,
        tradingVolume24h: poolData.volume24h,
        priceImpactFor1k: await calculatePriceImpact(1000),
        liquidityUtilization: poolData.utilization,
        
        recommendations: {
          needsMoreLiquidity: poolData.tvl < minimumTVL,
          shouldIncentivize: poolData.utilization > 0.8,
          healthyTrading: poolData.volume24h > minimumVolume
        }
      };
    }
    ```
    
    **Programa de Incentivos de Liquidez:**
    ```typescript
    // Estructura de recompensas LP de ejemplo
    const lpIncentives = {
      rewardToken: tokenAddress,
      dailyRewards: parseEther("1000"), // 1000 tokens por d√≠a
      minimumLPTime: 7 * 24 * 3600, // 7 d√≠as m√≠nimo
      bonusMultipliers: {
        week1: 2.0,  // 2x recompensas primera semana
        month1: 1.5, // 1.5x recompensas primer mes
        longTerm: 1.0 // Recompensas est√°ndar despu√©s
      }
    };
    ```
  </Tab>
  
  <Tab title="Transici√≥n de la Comunidad">
    **Contenido Educativo:**
    ```typescript
    const migrationGuideForUsers = {
      trading: {
        before: "Usar token.buy() y token.sell()",
        after: "Usar interfaces DEX o swapService.executeSwap()",
        walletSetup: "Agregar token a MetaMask, usar interfaz Uniswap"
      },
      
      benefits: {
        moreFeatures: "√ìrdenes l√≠mite, herramientas de trading avanzadas",
        composability: "Usar con otros protocolos DeFi", 
        decentralization: "Sin controles de admin restantes"
      },
      
      risks: {
        priceVolatility: "Precios impulsados por el mercado, pueden ser vol√°tiles",
        liquidityRisk: "Grandes trades pueden impactar el precio",
        smartContractRisk: "Riesgos DeFi est√°ndar aplican"
      }
    };
    ```
    
    **Recursos de la Comunidad:**
    - Documentaci√≥n actualizada
    - Videos tutoriales de trading  
    - Gu√≠as de integraci√≥n de interfaces DEX
    - Tutoriales de provisi√≥n de liquidez
  </Tab>
  
  <Tab title="Monitoreo y An√°lisis">
    **Panel de la Fase DEX:**
    ```typescript
    async function getDEXPhaseMetrics(tokenAddress) {
      return {
        // Precio y Volumen
        currentPrice: await getCurrentDEXPrice(tokenAddress),
        volume24h: await get24hVolume(tokenAddress),
        priceChange24h: await getPriceChange24h(tokenAddress),
        
        // Liquidez
        totalLiquidity: await getTotalLiquidity(tokenAddress),
        lpTokenHolders: await getLPHolderCount(tokenAddress),
        
        // Trading
        transactions24h: await getTransactionCount24h(tokenAddress),
        uniqueTraders24h: await getUniqueTraders24h(tokenAddress),
        avgTradeSize: await getAvgTradeSize(tokenAddress),
        
        // M√©tricas de Salud
        liquidityUtilization: await getLiquidityUtilization(tokenAddress),
        priceImpact1k: await getPriceImpact(tokenAddress, 1000),
        holderDistribution: await getHolderDistribution(tokenAddress)
      };
    }
    ```
    
    **Monitoreo Automatizado:**
    ```typescript
    // Configurar alertas para eventos importantes
    const monitoringConfig = {
      priceAlerts: {
        change24h: 20, // Alerta si el cambio de precio >20%
        volume: 10000, // Alerta si el volumen supera el umbral
        liquidity: 5000 // Alerta si el TVL cae por debajo del umbral
      },
      
      actions: {
        onLowLiquidity: () => announceIncentiveProgram(),
        onHighVolatility: () => checkForManipulation(),
        onTradingHalt: () => investigateIssues()
      }
    };
    ```
  </Tab>
</Tabs>
