---
title: React Hooks
description: B3 Global Accounts React hooksì— ëŒ€í•œ ì™„ì „í•œ ì°¸ì¡°
lang: ko
originalPath: sdk/global-account/hooks.mdx
---
## ì¸ì¦ í›…

### useB3

ê¸€ë¡œë²Œ ê³„ì • ì¸ì¦ ìƒíƒœì™€ ì•¡ì…˜ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ì£¼ìš” í›…ì…ë‹ˆë‹¤.

```tsx
import { useB3 } from "@b3dotfun/sdk/global-account/react";

function AuthComponent() {
  const { 
    account,           // í˜„ì¬ ê¸€ë¡œë²Œ ê³„ì •
    isAuthenticated,   // ì¸ì¦ ìƒíƒœ
    isLoading,         // ë¡œë”© ìƒíƒœ
    signOut,           // ë¡œê·¸ì•„ì›ƒ í•¨ìˆ˜
    refreshAccount     // ê³„ì • ë°ì´í„° ìƒˆë¡œê³ ì¹¨
  } = useB3();

  return (
    <div>
      {isLoading && <p>ë¡œë”© ì¤‘...</p>}
      
      {isAuthenticated ? (
        <div>
          <h3>í™˜ì˜í•©ë‹ˆë‹¤, {account?.displayName}!</h3>
          <p>ê³„ì • ID: {account?.id}</p>
          <p>ì´ë©”ì¼: {account?.email}</p>
          <button onClick={signOut}>ë¡œê·¸ì•„ì›ƒ</button>
        </div>
      ) : (
        <p>ê³„ì†í•˜ë ¤ë©´ ë¡œê·¸ì¸í•˜ì„¸ìš”</p>
      )}
    </div>
  );
}
```

#### ë°˜í™˜ ê°’

| ì†ì„± | íƒ€ì… | ì„¤ëª… |
|----------|------|-------------|
| `account` | `GlobalAccount \| null` | í˜„ì¬ ì¸ì¦ëœ ê³„ì • |
| `isAuthenticated` | `boolean` | ì‚¬ìš©ìê°€ ì¸ì¦ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ |
| `isLoading` | `boolean` | ì¸ì¦ í™•ì¸ì´ ì§„í–‰ ì¤‘ì¸ì§€ ì—¬ë¶€ |
| `signOut` | `() => Promise<void>` | í˜„ì¬ ì‚¬ìš©ìë¥¼ ë¡œê·¸ì•„ì›ƒí•˜ëŠ” í•¨ìˆ˜ |
| `refreshAccount` | `() => Promise<void>` | ê³„ì • ë°ì´í„°ë¥¼ ìƒˆë¡œê³ ì¹˜ëŠ” í•¨ìˆ˜ |

### useAccountWallet

ì¸ì¦ëœ ê³„ì •ì˜ ì§€ê°‘ ì •ë³´ì— ì ‘ê·¼í•©ë‹ˆë‹¤.

```tsx
import { useAccountWallet } from "@b3dotfun/sdk/global-account/react";

function WalletComponent() {
  const { 
    wallet,       // ì§€ê°‘ ì •ë³´
    isConnected,  // ì—°ê²° ìƒíƒœ
    connect,      // ì§€ê°‘ ì—°ê²° í•¨ìˆ˜
    disconnect    // ì§€ê°‘ ì—°ê²° í•´ì œ í•¨ìˆ˜
  } = useAccountWallet();

  return (
    <div>
      {isConnected ? (
        <div>
          <p>ì£¼ì†Œ: {wallet?.address}</p>
          <p>ì²´ì¸: {wallet?.chainId}</p>
          <p>ì”ì•¡: {wallet?.balance} ETH</p>
          <button onClick={disconnect}>ì—°ê²° í•´ì œ</button>
        </div>
      ) : (
        <button onClick={connect}>ì§€ê°‘ ì—°ê²°</button>
      )}
    </div>
  );
}
```

## ê¶Œí•œ í›…

### usePermissions

ì„¸ì…˜ í‚¤ ê¶Œí•œì„ ê´€ë¦¬í•˜ê³  í™•ì¸í•©ë‹ˆë‹¤.

```tsx
import { usePermissions } from "@b3dotfun/sdk/global-account/react";

function PermissionsComponent() {
  const { 
    permissions,      // í˜„ì¬ ê¶Œí•œ
    hasPermissions,   // ì‚¬ìš©ìì—ê²Œ í™œì„± ê¶Œí•œì´ ìˆëŠ”ì§€ ì—¬ë¶€
    isExpired,        // ê¶Œí•œì´ ë§Œë£Œë˜ì—ˆëŠ”ì§€ ì—¬ë¶€
    checkPermission   // íŠ¹ì • ê¶Œí•œ í™•ì¸
  } = usePermissions();

  const canInteractWithContract = checkPermission("0x...");

  return (
    <div>
      <h3>ê¶Œí•œ ìƒíƒœ</h3>
      
      {hasPermissions ? (
        <div>
          <p>âœ… í™œì„± ê¶Œí•œ</p>
          <p>ë§Œë£Œì¼: {permissions?.endDate.toLocaleDateString()}</p>
          <p>ê³„ì•½: {permissions?.approvedTargets.length}</p>
          
          {isExpired && <p>âš ï¸ ê¶Œí•œ ë§Œë£Œ</p>}
          
          <div>
            <p>ê³„ì•½ê³¼ ìƒí˜¸ ì‘ìš© ê°€ëŠ¥: {canInteractWithContract ? 'âœ…' : 'âŒ'}</p>
          </div>
        </div>
      ) : (
        <p>í™œì„± ê¶Œí•œ ì—†ìŒ</p>
      )}
    </div>
  );
}
```

### useRequestPermissions

ì„¸ì…˜ í‚¤ì— ëŒ€í•œ ìƒˆë¡œìš´ ê¶Œí•œì„ ìš”ì²­í•©ë‹ˆë‹¤.

```tsx
import { useRequestPermissions } from "@b3dotfun/sdk/global-account/react";

function RequestPermissionsComponent() {
  const { 
    requestPermissions, 
    isLoading, 
    error,
    reset 
  } = useRequestPermissions();

  const handleRequest = async () => {
    try {
      const result = await requestPermissions({
        chain: { id: 8333, name: "B3" },
        sessionKeyAddress: "0x...",
        permissions: {
          approvedTargets: ["0x..."],
          startDate: new Date(),
          endDate: new Date(Date.now() + 24 * 60 * 60 * 1000),
          nativeTokenLimitPerTransaction: 0.01,
        },
      });

      if (result.success) {
        console.log("ê¶Œí•œ ë¶€ì—¬ë¨!");
      }
    } catch (err) {
      console.error("ê¶Œí•œ ìš”ì²­ ì‹¤íŒ¨:", err);
    }
  };

  return (
    <div>
      <button 
        onClick={handleRequest}
        disabled={isLoading}
      >
        {isLoading ? "ìš”ì²­ ì¤‘..." : "ê¶Œí•œ ìš”ì²­"}
      </button>
      
      {error && (
        <div className="error">
          ì˜¤ë¥˜: {error.message}
          <button onClick={reset}>ì¬ì‹œë„</button>
        </div>
      )}
    </div>
  );
}
```

### useRevokePermissions

ê¸°ì¡´ ê¶Œí•œì„ ì·¨ì†Œí•©ë‹ˆë‹¤.

```tsx
import { useRevokePermissions } from "@b3dotfun/sdk/global-account/react";

function RevokePermissionsComponent() {
  const { revokePermissions, isLoading, error } = useRevokePermissions();

  const handleRevoke = async () => {
    try {
      await revokePermissions({
        sessionKeyAddress: "0x...",
        chain: { id: 8333, name: "B3" },
      });
      console.log("ê¶Œí•œ ì„±ê³µì ìœ¼ë¡œ ì·¨ì†Œë¨");
    } catch (err) {
      console.error("ê¶Œí•œ ì·¨ì†Œ ì‹¤íŒ¨:", err);
    }
  };

  return (
    <button 
      onClick={handleRevoke}
      disabled={isLoading}
    >
      {isLoading ? "ì·¨ì†Œ ì¤‘..." : "ê¶Œí•œ ì·¨ì†Œ"}
    </button>
  );
}
```

## ìì‚° ê´€ë¦¬ í›…

### useAccountAssets

ì‚¬ìš©ìì˜ ë””ì§€í„¸ ìì‚°ì„ ê²€ìƒ‰í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤.

```tsx
import { useAccountAssets } from "@b3dotfun/sdk/global-account/react";

function AssetsComponent() {
  const { 
    assets,        // ì‚¬ìš©ìì˜ ìì‚°
    isLoading,     // ë¡œë”© ìƒíƒœ
    error,         // ì˜¤ë¥˜ ìƒíƒœ
    refreshAssets  // ìì‚° ìƒˆë¡œê³ ì¹¨ í•¨ìˆ˜
  } = useAccountAssets();

  if (isLoading) return <div>ìì‚° ë¡œë”© ì¤‘...</div>;
  if (error) return <div>ìì‚° ë¡œë”© ì˜¤ë¥˜: {error.message}</div>;

  return (
    <div>
      <h3>ë‹¹ì‹ ì˜ ìì‚°</h3>
      <button onClick={refreshAssets}>ìƒˆë¡œê³ ì¹¨</button>
      
      {assets?.map((asset) => (
        <div key={asset.id} className="asset-item">
          <img src={asset.imageUrl} alt={asset.name} />
          <h4>{asset.name}</h4>
          <p>{asset.description}</p>
          <p>ê°€ì¹˜: {asset.value} {asset.currency}</p>
        </div>
      ))}
    </div>
  );
}
```

## ëª¨ë‹¬ ê´€ë¦¬ í›…

### useModal

í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ B3 ëª¨ë‹¬ì„ ì œì–´í•©ë‹ˆë‹¤.

```tsx
import { useModal } from "@b3dotfun/sdk/global-account/react";

function ModalControlComponent() {
  const { 
    openModal, 
    closeModal, 
    isModalOpen,
    currentModal 
  } = useModal();

  const handleOpenAuth = () => {
    openModal('authentication', {
      provider: { strategy: 'google' },
      partnerId: 'your-partner-id'
    });
  };

  const handleOpenPermissions = () => {
    openModal('permissions', {
      sessionKeyAddress: '0x...',
      permissions: {
        approvedTargets: ['0x...'],
        nativeTokenLimitPerTransaction: 0.01
      }
    });
  };

  return (
    <div>
      <p>í˜„ì¬ ëª¨ë‹¬: {currentModal || 'ì—†ìŒ'}</p>
      <p>ëª¨ë‹¬ ì—´ë¦¼: {isModalOpen ? 'ì˜ˆ' : 'ì•„ë‹ˆì˜¤'}</p>
      
      <button onClick={handleOpenAuth}>ì¸ì¦ ëª¨ë‹¬ ì—´ê¸°</button>
      <button onClick={handleOpenPermissions}>ê¶Œí•œ ëª¨ë‹¬ ì—´ê¸°</button>
      <button onClick={closeModal}>ëª¨ë‹¬ ë‹«ê¸°</button>
    </div>
  );
}
```

## ë„¤ë¹„ê²Œì´ì…˜ í›…

### useNavigation

B3 ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œì˜ ë„¤ë¹„ê²Œì´ì…˜ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

```tsx
import { useNavigation } from "@b3dotfun/sdk/global-account/react";

function NavigationComponent() {
  const { 
    navigate, 
    canGoBack, 
    goBack,
    currentPath 
  } = useNavigation();

  return (
    <div>
      <p>í˜„ì¬ ê²½ë¡œ: {currentPath}</p>
      
      <button onClick={() => navigate('/dashboard')}>
        ëŒ€ì‹œë³´ë“œë¡œ ì´ë™
      </button>
      
      <button onClick={() => navigate('/profile')}>
        í”„ë¡œí•„ë¡œ ì´ë™
      </button>
      
      {canGoBack && (
        <button onClick={goBack}>
          ë’¤ë¡œ ê°€ê¸°
        </button>
      )}
    </div>
  );
}
```

## ì„¤ì • í›…

### useB3Config

B3 ì„¤ì •ê³¼ í™˜ê²½ ì„¤ì •ì— ì ‘ê·¼í•©ë‹ˆë‹¤.

```tsx
import { useB3Config } from "@b3dotfun/sdk/global-account/react";

function ConfigComponent() {
  const { 
    environment,     // 'production' | 'development'
    apiUrl,          // í˜„ì¬ API URL
    partnerId,       // íŒŒíŠ¸ë„ˆ ID
    features,        // ì‚¬ìš© ê°€ëŠ¥í•œ ê¸°ëŠ¥
    updateConfig     // ì„¤ì • ì—…ë°ì´íŠ¸
  } = useB3Config();

  return (
    <div>
      <h3>B3 ì„¤ì •</h3>
      <p>í™˜ê²½: {environment}</p>
      <p>API URL: {apiUrl}</p>
      <p>íŒŒíŠ¸ë„ˆ ID: {partnerId}</p>
      
      <h4>ì‚¬ìš© ê°€ëŠ¥í•œ ê¸°ëŠ¥:</h4>
      <ul>
        {features.map(feature => (
          <li key={feature}>{feature}</li>
        ))}
      </ul>
    </div>
  );
}
```

## í›… ì¡°í•©

### ì»¤ìŠ¤í…€ í›… ì˜ˆì œ

ë³µì¡í•œ ê¸°ëŠ¥ì„ ìœ„í•´ ì—¬ëŸ¬ í›…ì„ ê²°í•©í•©ë‹ˆë‹¤:

```tsx
import { useB3, usePermissions, useAccountWallet } from "@b3dotfun/sdk/global-account/react";

function useGameAuth() {
  const { account, isAuthenticated } = useB3();
  const { hasPermissions, isExpired } = usePermissions();
  const { wallet, isConnected } = useAccountWallet();

  const isGameReady = isAuthenticated && hasPermissions && !isExpired && isConnected;
  
  const gameAuthStatus = {
    account: !!account,
    permissions: hasPermissions && !isExpired,
    wallet: isConnected,
    ready: isGameReady
  };

  return {
    account,
    wallet,
    isGameReady,
    gameAuthStatus
  };
}

// ì‚¬ìš©ë²•
function GameComponent() {
  const { isGameReady, gameAuthStatus } = useGameAuth();

  if (!isGameReady) {
    return (
      <div>
        <h3>ì„¤ì • í•„ìš”</h3>
        <ul>
          <li>ê³„ì •: {gameAuthStatus.account ? 'âœ…' : 'âŒ'}</li>
          <li>ê¶Œí•œ: {gameAuthStatus.permissions ? 'âœ…' : 'âŒ'}</li>
          <li>ì§€ê°‘: {gameAuthStatus.wallet ? 'âœ…' : 'âŒ'}</li>
        </ul>
      </div>
    );
  }

  return <div>ğŸ® ê²Œì„ ì¤€ë¹„ë¨!</div>;
}
```

## TypeScript ì§€ì›

ëª¨ë“  í›…ì€ ì „ì²´ TypeScript ì§€ì›ì„ í¬í•¨í•©ë‹ˆë‹¤:

```typescript
import type { 
  GlobalAccount, 
  Permissions, 
  WalletInfo 
} from "@b3dotfun/sdk/global-account/types";

// í›… ë°˜í™˜ íƒ€ì…ì€ ì™„ì „íˆ íƒ€ì…í™”ë©ë‹ˆë‹¤
const { account }: { account: GlobalAccount | null } = useB3();
const { permissions }: { permissions: Permissions | null } = usePermissions();
const { wallet }: { wallet: WalletInfo | null } = useAccountWallet();
```

## ì˜¤ë¥˜ ì²˜ë¦¬

í›…ì„ ì‚¬ìš©í•˜ì—¬ ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•˜ëŠ” ëª¨ë²” ì‚¬ë¡€:

```tsx
function ErrorHandlingExample() {
  const { account, isAuthenticated } = useB3();
  const { requestPermissions, error: permissionError } = useRequestPermissions();
  const { assets, error: assetError } = useAccountAssets();

  // íŠ¹ì • ì˜¤ë¥˜ ì²˜ë¦¬
  useEffect(() => {
    if (permissionError) {
      console.error('ê¶Œí•œ ì˜¤ë¥˜:', permissionError);
      // ì‚¬ìš©ì ì¹œí™”ì ì¸ ì˜¤ë¥˜ ë©”ì‹œì§€ í‘œì‹œ
    }
    
    if (assetError) {
      console.error('ìì‚° ë¡œë”© ì˜¤ë¥˜:', assetError);
      // ì¬ì‹œë„í•˜ê±°ë‚˜ ëŒ€ì²´ UI í‘œì‹œ
    }
  }, [permissionError, assetError]);

  return (
    <div>
      {/* ì»´í¬ë„ŒíŠ¸ JSX */}
    </div>
  );
}
```

## ë‹¤ìŒ ë‹¨ê³„

<CardGroup cols={2}>

<Card title="ì˜ˆì œ" icon="code" href="/sdk/global-account/examples">
  ì´ í›…ì„ ì‚¬ìš©í•œ ì™„ì „í•œ ì˜ˆì œë¥¼ í™•ì¸í•˜ì„¸ìš”.
</Card>

</CardGroup>
