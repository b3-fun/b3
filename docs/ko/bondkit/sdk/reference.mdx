---
title: SDK ì°¸ì¡°
description: 'BondKit SDKì— ëŒ€í•œ ì™„ì „í•œ API ì°¸ì¡°, ì˜ˆì œ ë° TypeScript ì •ì˜ì…ë‹ˆë‹¤.'
lang: ko
originalPath: bondkit/sdk/reference.mdx
---
## ì„¤ì¹˜ ë° ì„¤ì •

<Tabs>
  <Tab title="NPM íŒ¨í‚¤ì§€">
    ```bash
    # í”„ë¡œë•ì…˜ SDK
    pnpm add @b3dotfun/sdk
    
    # ë©”ì¸ SDKì—ì„œ ê°€ì ¸ì˜¤ê¸°
    import { 
      BondkitTokenFactory, 
      BondkitToken 
    } from "@b3dotfun/sdk/bondkit";
    ```
  </Tab>
  <Tab title="ê°œë°œ">
    ```bash
    # ëª¨ë…¸ë ˆí¬ ë³µì œ
    git clone https://github.com/b3dotfun/b3-monorepo.git
    cd b3-monorepo
    pnpm install
    
    # SDK ë¹Œë“œ
    pnpm --filter @b3dotfun/sdk build
    ```
  </Tab>
</Tabs>

## í•µì‹¬ í´ë˜ìŠ¤

### BondkitTokenFactory

íŒ©í† ë¦¬ í´ë˜ìŠ¤ëŠ” ìƒˆë¡œìš´ ë³¸ë“œ í† í°ì„ ë°°í¬í•˜ê³  ë°°í¬ëœ í† í°ì„ ì¡°íšŒí•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.

```typescript
import { BondkitTokenFactory } from "@b3dotfun/sdk/bondkit";
import { base } from "viem/chains";

const factory = new BondkitTokenFactory(
  base.id,                    // ì²´ì¸ ID (Base ë©”ì¸ë„·)
  process.env.WALLET_KEY      // ì„ íƒì‚¬í•­: ì“°ê¸° ì‘ì—…ì„ ìœ„í•œ ê°œì¸ í‚¤
);
```

#### ìƒì„±ì

```typescript
constructor(
  chainId: SupportedChainId,
  walletKey?: string
)
```

| ë§¤ê°œë³€ìˆ˜ | íƒ€ì… | í•„ìˆ˜ ì—¬ë¶€ | ì„¤ëª… |
|-----------|------|----------|-------------|
| `chainId` | `number` | ì˜ˆ | ì²´ì¸ ID (í˜„ì¬ëŠ” Base: 8453ë§Œ ê°€ëŠ¥) |
| `walletKey` | `string` | ì•„ë‹ˆì˜¤ | ì“°ê¸° ì‘ì—…ì„ ìœ„í•œ ê°œì¸ í‚¤ |

#### ë©”ì†Œë“œ

<AccordionGroup>
  <Accordion title="deployBondkitToken">
    **ìƒˆë¡œìš´ ë³¸ë“œ í† í° ë°°í¬**
    
    ```typescript
    async deployBondkitToken(
      config: BondkitTokenConfig
    ): Promise<Address>
    ```
    
    **ë§¤ê°œë³€ìˆ˜:**
    ```typescript
    interface BondkitTokenConfig {
      name: string;                      // í† í° ì´ë¦„
      symbol: string;                    // í† í° ì‹¬ë³¼
      feeRecipient: Address;            // ê±°ë˜ ìˆ˜ìˆ˜ë£Œ ìˆ˜ë ¹ì
      finalTokenSupply: bigint;         // ì´ ê³µê¸‰ëŸ‰ (18 ì†Œìˆ˜ì )
      aggressivenessFactor: number;     // 0-100 ê³¡ì„ ì˜ ê°€íŒŒë¦„
      lpSplitRatioFeeRecipientBps: bigint; // LP ìˆ˜ìˆ˜ë£Œ ë¶„ë°° (ê¸°ì¤€ì )
      targetEth: bigint;                // ë§ˆì´ê·¸ë ˆì´ì…˜ ëª©í‘œ (18 ì†Œìˆ˜ì )
      uniswapV2RouterAddress: Address;  // ë¼ìš°í„° ì£¼ì†Œ
      migrationAdminAddress: Address;   // ë§ˆì´ê·¸ë ˆì´ì…˜ì„ íŠ¸ë¦¬ê±°í•  ìˆ˜ ìˆëŠ” ê´€ë¦¬ì
    }
    ```
    
    **ì˜ˆì‹œ:**
    ```typescript
    const tokenAddress = await factory.deployBondkitToken({
      name: "My Token",
      symbol: "MTK",
      feeRecipient: "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb1",
      finalTokenSupply: parseEther("1000000"),
      aggressivenessFactor: 50,
      lpSplitRatioFeeRecipientBps: 1000n, // 10%
      targetEth: parseEther("10"),
      uniswapV2RouterAddress: "0x4752ba5DBc23f44D87826276BF6Fd6b1C372aD24",
      migrationAdminAddress: "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb1"
    });
    ```
  </Accordion>
  
  <Accordion title="getDeployedBondkitTokens">
    **ë°°í¬ëœ í† í° ëª¨ë‘ ê°€ì ¸ì˜¤ê¸°**
    
    ```typescript
    async getDeployedBondkitTokens(): Promise<Address[]>
    ```
    
    **ë°˜í™˜ê°’:** í† í° ì£¼ì†Œì˜ ë°°ì—´
    
    **ì˜ˆì‹œ:**
    ```typescript
    const tokens = await factory.getDeployedBondkitTokens();
    console.log(`Found ${tokens.length} tokens`);
    ```
  </Accordion>
  
  <Accordion title="getBondkitTokenConfig">
    **í† í° ì„¤ì • ê°€ì ¸ì˜¤ê¸°**
    
    ```typescript
    async getBondkitTokenConfig(
      tokenAddress: Address
    ): Promise<BondkitTokenConfig>
    ```
    
    **ì˜ˆì‹œ:**
    ```typescript
    const config = await factory.getBondkitTokenConfig(
      "0x123..."
    );
    console.log(`Token name: ${config.name}`);
    ```
  </Accordion>
  
  <Accordion title="getImplementationAddress">
    **êµ¬í˜„ ê³„ì•½ ê°€ì ¸ì˜¤ê¸°**
    
    ```typescript
    async getImplementationAddress(): Promise<Address>
    ```
    
    **ì˜ˆì‹œ:**
    ```typescript
    const impl = await factory.getImplementationAddress();
    console.log(`Implementation: ${impl}`);
    ```
  </Accordion>
  
  <Accordion title="connect">
    **ì§€ê°‘ í”„ë¡œë°”ì´ë” ì—°ê²°**
    
    ```typescript
    connect(provider?: EIP1193Provider): boolean
    ```
    
    **ì˜ˆì‹œ:**
    ```typescript
    // ë¸Œë¼ìš°ì € í™˜ê²½
    const connected = factory.connect(window.ethereum);
    
    // ì‚¬ìš©ì ì •ì˜ í”„ë¡œë°”ì´ë”
    import { custom } from "viem";
    const transport = custom(provider);
    factory.connect(transport);
    ```
  </Accordion>
</AccordionGroup>

### BondkitToken

í† í° í´ë˜ìŠ¤ëŠ” íŠ¹ì • ë³¸ë“œ í† í°ì— ëŒ€í•œ ëª¨ë“  ì‘ì—…ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

```typescript
import { BondkitToken } from "@b3dotfun/sdk/bondkit";

const token = new BondkitToken(
  "0x123...",                 // í† í° ì£¼ì†Œ
  process.env.WALLET_KEY      // ì„ íƒì‚¬í•­: ê°œì¸ í‚¤
);
```

#### ìƒì„±ì

```typescript
constructor(
  contractAddress: string,
  walletKey?: string
)
```

| ë§¤ê°œë³€ìˆ˜ | íƒ€ì… | í•„ìˆ˜ ì—¬ë¶€ | ì„¤ëª… |
|-----------|------|----------|-------------|
| `contractAddress` | `string` | ì˜ˆ | í† í° ê³„ì•½ ì£¼ì†Œ |
| `walletKey` | `string` | ì•„ë‹ˆì˜¤ | ì“°ê¸° ì‘ì—…ì„ ìœ„í•œ ê°œì¸ í‚¤ |

#### ì½ê¸° ë©”ì†Œë“œ

<AccordionGroup>
  <Accordion title="ERC20 í‘œì¤€ ë©”ì†Œë“œ">
    ```typescript
    // ê¸°ë³¸ í† í° ì •ë³´
    async name(): Promise<string>
    async symbol(): Promise<string>
    async decimals(): Promise<number>
    async totalSupply(): Promise<bigint>
    
    // ì”ì•¡
    async balanceOf(address: Address): Promise<bigint>
    async allowance(
      owner: Address, 
      spender: Address
    ): Promise<bigint>
    
    // ì˜ˆì‹œ
    const balance = await token.balanceOf(userAddress);
    console.log(`Balance: ${formatEther(balance)}`);
    ```
  </Accordion>
  
  <Accordion title="ë³¸ë”© ê³¡ì„  ë©”ì†Œë“œ">
    ```typescript
    // í˜„ì¬ í† í° ë‹¹ ê°€ê²©
    async getCurrentBondingCurvePricePerToken(): Promise<bigint>
    
    // í˜„ì¬ ETH ê°€ê²©
    async getCurrentPrice(): Promise<bigint>
    
    // êµ¬ë§¤ ê²¬ì 
    async getAmountOfTokensToBuy(
      ethAmount: bigint
    ): Promise<bigint>
    
    // íŒë§¤ ê²¬ì 
    async getAmountOfEthToReceive(
      tokenAmount: bigint
    ): Promise<bigint>
    
    // ë³¸ë”© ì§„í–‰ ìƒí™©
    async getBondingProgress(): Promise<{
      progress: number;      // 0-1 (í¼ì„¼íŠ¸)
      raised: bigint;       // ëª¨ê¸ˆì•¡
      threshold: bigint;    // ëª©í‘œì•¡
    }>
    
    // ì˜ˆì‹œ
    const progress = await token.getBondingProgress();
    console.log(`Progress: ${(progress.progress * 100).toFixed(2)}%`);
    ```
  </Accordion>
  
  <Accordion title="ìƒíƒœ ë° ì„¤ì •">
    ```typescript
    // í† í° ìƒíƒœ
    async getStatus(): Promise<TokenStatus>
    async isMigrated(): Promise<boolean>
    async canMigrate(): Promise<boolean>
    
    // ì„¤ì •
    async getOwner(): Promise<Address>
    async getFeeRecipient(): Promise<Address>
    async getAggressivenessFactor(): Promise<number>
    async getTargetAmount(): Promise<bigint>
    
    // ë§ˆì´ê·¸ë ˆì´ì…˜ ì •ë³´
    async getMigrationData(): Promise<{
      ethForLp: bigint;
      tokensForLp: bigint;
      sqrtPriceX96: bigint;
    }>
    
    // ì˜ˆì‹œ
    if (await token.canMigrate()) {
      console.log("ë§ˆì´ê·¸ë ˆì´ì…˜ ì¤€ë¹„ ì™„ë£Œ!");
    }
    ```
  </Accordion>
  
  <Accordion title="ë¶„ì„ ë©”ì†Œë“œ">
    ```typescript
    // í† í° ë³´ìœ ì
    async getPaginatedHolders(
      offset: number,
      limit: number
    ): Promise<{
      holders: Address[];
      total: number;
    }>
    
    // ê±°ë˜ ë‚´ì—­ (APIì—ì„œ)
    async getTransactionHistory(
      options?: GetTransactionHistoryOptions
    ): Promise<TransactionResponse>
    
    // ì˜µì…˜ ì¸í„°í˜ì´ìŠ¤
    interface GetTransactionHistoryOptions {
      userAddress?: Address;
      type?: "buy" | "sell";
      from?: number;        // íƒ€ì„ìŠ¤íƒ¬í”„
      to?: number;          // íƒ€ì„ìŠ¤íƒ¬í”„
      limit?: number;       // 1-100
      offset?: number;
    }
    
    // ì˜ˆì‹œ
    const history = await token.getTransactionHistory({
      type: "buy",
      limit: 10
    });
    ```
  </Accordion>
</AccordionGroup>

#### ì“°ê¸° ë©”ì†Œë“œ

<AccordionGroup>
  <Accordion title="buy">
    **ETHë¡œ í† í° êµ¬ë§¤**
    
    ```typescript
    async buy(
      minTokensOut: bigint,
      ethAmount: string | bigint
    ): Promise<Hex>
    ```
    
    **ë§¤ê°œë³€ìˆ˜:**
    - `minTokensOut`: ë°›ì„ ìµœì†Œ í† í° ìˆ˜ (ë¯¸ë„ëŸ¬ì§ ë³´í˜¸)
    - `ethAmount`: ì‚¬ìš©í•  ETH (ë¬¸ìì—´ ë˜ëŠ” bigintë¡œ)
    
    **ì˜ˆì‹œ:**
    ```typescript
    // ë¨¼ì € ê²¬ì ì„ ë°›ìŠµë‹ˆë‹¤
    const quote = await token.getAmountOfTokensToBuy(
      parseEther("1")
    );
    
    // 5% ë¯¸ë„ëŸ¬ì§ í—ˆìš© ë²”ìœ„ë¡œ êµ¬ë§¤
    const minTokens = quote * 95n / 100n;
    const txHash = await token.buy(minTokens, "1");
    
    console.log(`Transaction: ${txHash}`);
    ```
  </Accordion>
  
  <Accordion title="sell">
    **í† í°ì„ ETHë¡œ íŒë§¤**
    
    ```typescript
    async sell(
      tokenAmount: bigint,
      minEthOut: bigint
    ): Promise<Hex>
    ```
    
    **ë§¤ê°œë³€ìˆ˜:**
    - `tokenAmount`: íŒë§¤í•  í† í° ìˆ˜
    - `minEthOut`: ë°›ì„ ìµœì†Œ ETH (ë¯¸ë„ëŸ¬ì§ ë³´í˜¸)
    
    **ì˜ˆì‹œ:**
    ```typescript
    // 1000 í† í° íŒë§¤
    const sellAmount = parseEther("1000");
    
    // ê²¬ì  ë°›ê¸°
    const quote = await token.getAmountOfEthToReceive(sellAmount);
    
    // ë¯¸ë„ëŸ¬ì§ ë³´í˜¸ë¡œ íŒë§¤
    const minEth = quote * 95n / 100n;
    const txHash = await token.sell(sellAmount, minEth);
    ```
  </Accordion>
  
  <Accordion title="migrateToDex">
    **Uniswap v4ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜**
    
    ```typescript
    async migrateToDex(): Promise<Hex>
    ```
    
    **ìš”êµ¬ ì‚¬í•­:**
    - í˜¸ì¶œìëŠ” ë§ˆì´ê·¸ë ˆì´ì…˜ ê´€ë¦¬ìì—¬ì•¼ í•¨
    - ëª©í‘œê°€ ë‹¬ì„±ë˜ì–´ì•¼ í•¨
    
    **ì˜ˆì‹œ:**
    ```typescript
    if (await token.canMigrate()) {
      const txHash = await token.migrateToDex();
      console.log(`Migration tx: ${txHash}`);
    }
    ```
  </Accordion>
  
  <Accordion title="ERC20 ì“°ê¸° ë©”ì†Œë“œ">
    ```typescript
    // í‘œì¤€ ì „ì†¡
    async transfer(
      to: Address,
      amount: bigint
    ): Promise<Hex>
    
    async transferFrom(
      from: Address,
      to: Address,
      amount: bigint
    ): Promise<Hex>
    
    // ìŠ¹ì¸
    async approve(
      spender: Address,
      amount: bigint
    ): Promise<Hex>
    
    // ì˜ˆì‹œ
    await token.approve(
      spenderAddress,
      parseEther("1000")
    );
    ```
  </Accordion>
</AccordionGroup>

#### ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ

```typescript
// êµ¬ë§¤ ì´ë²¤íŠ¸ ë“£ê¸°
token.onBuy((event: BoughtEventArgs) => {
  console.log("Buy:", {
    buyer: event.buyer,
    ethIn: formatEther(event.ethIn),
    tokensOut: formatEther(event.tokensOut),
    fee: formatEther(event.feeRecipientFee)
  });
});

// íŒë§¤ ì´ë²¤íŠ¸ ë“£ê¸°
token.onSell((event: SoldEventArgs) => {
  console.log("Sell:", {
    seller: event.seller,
    tokensIn: formatEther(event.tokensIn),
    ethOut: formatEther(event.ethOut),
    fee: formatEther(event.feeRecipientFee)
  });
});

// ë§ˆì´ê·¸ë ˆì´ì…˜ ë“£ê¸°
token.onMigration((event: DexMigrationEventArgs) => {
  console.log("Migrated:", {
    ethForLp: formatEther(event.ethForLp),
    tokensForLp: formatEther(event.tokensForLp)
  });
});
```

## íƒ€ì… ì •ì˜

### í•µì‹¬ íƒ€ì…

```typescript
// í† í° ì„¤ì •
interface BondkitTokenConfig {
  name: string;
  symbol: string;
  feeRecipient: Address;
  finalTokenSupply: bigint;
  aggressivenessFactor: number;
  lpSplitRatioFeeRecipientBps: bigint;
  targetEth: bigint;
  uniswapV2RouterAddress: Address;
  migrationAdminAddress: Address;
}

// í† í° ìƒíƒœ ì—´ê±°í˜•
enum TokenStatus {
  Inactive = 0,
  BondingPhase = 1,
  DexPhase = 2,
  Migrated = 3
}

// í† í° ì„¸ë¶€ ì •ë³´
interface TokenDetails {
  name: string;
  symbol: string;
  decimals: number;
  totalSupply: bigint;
  owner: Address;
}
```

### ì´ë²¤íŠ¸ íƒ€ì…

```typescript
// êµ¬ë§¤ ì´ë²¤íŠ¸
interface BoughtEventArgs {
  buyer: Address;
  ethIn: bigint;
  tokensOut: bigint;
  feeRecipientFee: bigint;
}

// íŒë§¤ ì´ë²¤íŠ¸
interface SoldEventArgs {
  seller: Address;
  tokensIn: bigint;
  ethOut: bigint;
  feeRecipientFee: bigint;
}

// ë§ˆì´ê·¸ë ˆì´ì…˜ ì´ë²¤íŠ¸
interface DexMigrationEventArgs {
  ethForLp: bigint;
  tokensForLp: bigint;
  ethForFeeRecipient: bigint;
}

// íŒ©í† ë¦¬ ìƒì„± ì´ë²¤íŠ¸
interface BondkitTokenCreatedEventArgs {
  tokenAddress: Address;
  implementationAddress: Address;
  name: string;
  symbol: string;
  feeRecipient: Address;
  migrationAdmin: Address;
}
```

### ê±°ë˜ íƒ€ì…

```typescript
// ê±°ë˜ ë‚´ì—­
interface Transaction {
  timestamp: number;
  price: number;
  amount: string;
  type: "buy" | "sell";
  userAddress: Address;
  txHash: Hex;
  chainId: number;
  blockNumber?: number;
  totalRaisedBonding?: string;
  value?: string;
}

// API ì‘ë‹µ
interface TransactionResponse {
  total: number;
  limit: number;
  skip: number;
  data: Transaction[];
}
```

## ì„¤ì •

### ë„¤íŠ¸ì›Œí¬ ì§€ì›

```typescript
import { getConfig } from "@b3dotfun/sdk/bondkit";
import { base } from "viem/chains";

const config = getConfig(base.id);

console.log({
  chain: config.chain.name,           // "Base"
  factoryAddress: config.factoryAddress,
  rpcUrl: config.rpcUrl,
  apiEndpoint: config.apiEndpoint
});
```

### ì§€ì›ë˜ëŠ” ì²´ì¸

| ì²´ì¸ | ì²´ì¸ ID | ìƒíƒœ |
|-------|----------|--------|
| Base ë©”ì¸ë„· | 8453 | âœ… ì§€ì›ë¨ |
| Base Sepolia | 84532 | ğŸš§ ê³§ ì¶œì‹œ ì˜ˆì • |

## ì˜¤ë¥˜ ì²˜ë¦¬

```typescript
try {
  const txHash = await token.buy(minTokens, "1");
} catch (error) {
  if (error.message.includes("insufficient funds")) {
    console.error("ETHê°€ ë¶€ì¡±í•©ë‹ˆë‹¤");
  } else if (error.message.includes("slippage")) {
    console.error("ê°€ê²©ì´ ë³€ë™ë˜ì—ˆìŠµë‹ˆë‹¤, ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”");
  } else if (error.message.includes("target exceeded")) {
    console.error("ë§ˆì´ê·¸ë ˆì´ì…˜
