<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>B3 Widget Demo</title>
    <link rel="stylesheet" href="/widget/sdk.css?v=chain-fix" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 2rem;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      header {
        background: white;
        padding: 1.5rem 2rem;
        border-radius: 16px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
      }

      h1 {
        font-size: 2rem;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .content {
        background: white;
        padding: 3rem;
        border-radius: 16px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }

      h2 {
        margin-bottom: 1.5rem;
        color: #333;
      }

      .demo-section {
        margin-bottom: 3rem;
      }

      .demo-box {
        background: #f8f9fa;
        border: 2px dashed #dee2e6;
        border-radius: 12px;
        padding: 2rem;
        margin: 1rem 0;
      }

      .info {
        background: #e7f3ff;
        border-left: 4px solid #2196f3;
        padding: 1rem;
        margin: 1rem 0;
        border-radius: 4px;
      }

      code {
        background: #f5f5f5;
        padding: 0.2rem 0.4rem;
        border-radius: 3px;
        font-family: "Monaco", "Courier New", monospace;
        font-size: 0.9em;
      }

      article {
        line-height: 1.8;
        color: #444;
      }

      article p {
        margin-bottom: 1rem;
      }

      .blurred {
        filter: blur(5px);
        user-select: none;
        pointer-events: none;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>üöÄ B3 Widget Demo</h1>
        <!-- Sign in widget in header -->
        <div class="b3-sign-in-widget"></div>
      </header>

      <div class="content">
        <div class="demo-section">
          <h2>üé® How This Demo Works</h2>
          <p>This page demonstrates the B3 Widget system with two key features:</p>
          <ol>
            <li><strong>Sign In Widget</strong> (in header) - Click to authenticate with B3</li>
            <li><strong>Content Gate Widget</strong> (below) - Locks content until you sign in</li>
          </ol>

          <div class="info">
            <strong>üí° Try it:</strong> The article below is blurred after 3 paragraphs. Sign in to unlock the full
            content!
          </div>
        </div>

        <div class="demo-section">
          <h2>üìÑ Premium Article Content</h2>

          <article>
            <h3>The Future of Web3 Authentication</h3>

            <p>
              Web3 authentication is revolutionizing how users interact with decentralized applications. Unlike
              traditional username/password systems, Web3 auth uses cryptographic signatures to verify identity,
              providing both security and user sovereignty.
            </p>

            <p>
              The B3 platform takes this concept further by offering global accounts that work across multiple chains
              and applications. Users can sign in once and access a unified experience across the entire ecosystem,
              making Web3 as easy to use as Web2.
            </p>

            <p>
              Traditional authentication methods require users to create accounts on each platform, remember multiple
              passwords, and trust centralized databases with their sensitive information. Web3 authentication
              eliminates these pain points by leveraging blockchain technology.
            </p>

            <!-- Content below this gets blurred -->
            <p class="premium-content">
              With B3's global accounts, developers can integrate seamless authentication in minutes. The SDK handles
              all the complexity of wallet connections, chain switching, and account management, allowing you to focus
              on building great user experiences.
            </p>

            <p class="premium-content">
              Smart contract wallets enable features like social recovery, spending limits, and session keys. These
              capabilities make Web3 applications more accessible to mainstream users who may not be familiar with
              managing private keys.
            </p>

            <p class="premium-content">
              The future of authentication is passwordless, decentralized, and user-controlled. B3 is building the
              infrastructure to make this future a reality today, with tools that developers love and users find
              intuitive.
            </p>
          </article>
        </div>
      </div>
    </div>

    <!-- Load the widget bundle -->
    <script src="/widget/b3-widget.js?v=chain-fix"></script>

    <!-- Initialize -->
    <script>
      console.log("üöÄ Initializing B3 Widget");

      if (window.B3Widget) {
        window.B3Widget.init({
          partnerId: "dbcd5e9b-564e-4ba0-91a0-becf0edabb61",
          environment: "development",
          theme: "light",
          onWalletConnected: wallet => {
            console.log("‚úÖ Wallet connected!", wallet.address);

            // Unblur content on sign-in
            document.querySelectorAll(".premium-content").forEach(el => {
              el.classList.remove("blurred");
            });
          },
        });

        // Blur premium content initially
        document.querySelectorAll(".premium-content").forEach(el => {
          el.classList.add("blurred");
        });
      } else {
        console.error("‚ùå B3Widget not found");
      }
    </script>
  </body>
</html>
